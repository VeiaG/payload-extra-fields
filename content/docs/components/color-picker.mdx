---
title: Color Picker
description: A customizable color picker field for PayloadCMS with both component and utility function.
---
import { TypeTable } from 'fumadocs-ui/components/type-table';

import { ComponentPreview } from "@/components/component-preview"
import { Tabs, TabsContent, TabsList, TabsTrigger } from "@/components/ui/tabs"

# Color Picker

A customizable color picker field with presets, debounce, and hex validation for PayloadCMS. Includes both the UI component and a utility function (`colorField`) to easily add it to your collection schemas.

<ComponentPreview name="color-picker-demo" />

## Installation

<Tabs defaultValue="auto">
  <TabsList className="grid w-full max-w-md grid-cols-2">
    <TabsTrigger value="auto">Auto</TabsTrigger>
    <TabsTrigger value="manual">Manual</TabsTrigger>
  </TabsList>
  <TabsContent value="auto">

Use the following command to install the color picker field (includes both the component and utility function):

```npm
npx shadcn@latest add https://veiag.dev/r/color-picker
```

  </TabsContent>
  <TabsContent value="manual">

<div className="space-y-6">

### 1. Install dependencies

```npm
npm install @payloadcms/ui payload
```

### 2. Create the types file

```typescript title="src/fields/color-picker/types.ts"
import { TextField } from 'payload'

export type ColorPickerArgs = {
  name?: string
  required?: boolean
  colorPresets?: string[]
  debounceDelay?: number
  description?: string
  showTextInput?: boolean
  overrides?: (field: TextField) => TextField
}

export type ColorPickerProps = Pick<
  ColorPickerArgs,
  'colorPresets' | 'debounceDelay' | 'showTextInput'
>
```

### 3. Create the field function

```typescript title="src/fields/color-picker/field.ts"
import { TextField } from 'payload'
import { ColorPickerArgs } from './types'
import { text } from 'payload/shared'

export const colorField = (options?: ColorPickerArgs): TextField => {
  const baseField: TextField = {
    name: options?.name || 'color',
    type: 'text',
    required: options?.required || false,
    admin: {
      description: options?.description,
      components: {
        Field: {
          path: '@/fields/color-picker',
          clientProps: {
            colorPresets: options?.colorPresets || [],
            debounceDelay: options?.debounceDelay || 300,
            showTextInput: options?.showTextInput !== false,
          },
        },
      },
    },
    validate: (value, args) => {
      if (value && !/^#([0-9A-F]{3}){1,2}$/i.test(value)) {
        return 'Invalid color format'
      }
      return text(value, args)
    },
  }
  if (typeof options?.overrides === 'function') {
    return options.overrides(baseField)
  }
  return baseField
}
```

### 4. Add the component and styles

Copy the component code from the [GitHub repository](https://github.com/yourusername/payload-extra-fields) to your project:

- `src/fields/color-picker/index.tsx`
- `src/fields/color-picker/style.scss`

</div>

  </TabsContent>
</Tabs>

## Usage

### Basic usage

```typescript
import { colorField } from '@/fields/color-picker/field'

export const MyCollection = {
  slug: 'my-collection',
  fields: [
    colorField({
      name: 'backgroundColor',
      required: true,
      description: 'Choose a background color for your page',
    }),
  ],
}
```

### With presets

```typescript
import { colorField } from '@/fields/color-picker/field'

export const MyCollection = {
  slug: 'my-collection',
  fields: [
    colorField({
      name: 'themeColor',
      colorPresets: [
        '#FF6B6B',
        '#4ECDC4',
        '#45B7D1',
        '#FFA07A',
        '#98D8C8',
        '#F7DC6F',
        '#BB8FCE',
        '#85C1E2',
      ],
      showTextInput: true,
      debounceDelay: 500,
    }),
  ],
}
```

### Advanced usage

```typescript
import { colorField } from '@/fields/color-picker/field'

export const MyCollection = {
  slug: 'my-collection',
  fields: [
    colorField({
      name: 'brandColor',
      required: true,
      description: 'Primary brand color',
      colorPresets: ['#0066FF', '#FF3366', '#00CC66'],
      debounceDelay: 300,
      showTextInput: true,
      overrides: (field) => ({
        ...field,
        admin: {
          ...field.admin,
          condition: (data) => data.useCustomBranding === true,
        },
      }),
    }),
  ],
}
```

## API Reference

### ColorPickerArgs


<TypeTable
  type={{
    name: {
      description: 'The name of the field',
      type: 'string',
      default: "'color'",
    },
    required: {
      description: 'Whether the field is required',
      type: 'boolean',
      default: 'false',
    },
    colorPresets: {
      description: 'Array of hex color codes for quick selection',
      type: 'string[]',
      default: '[]',
    },
    debounceDelay: {
      description: 'Debounce delay in milliseconds',
      type: 'number',
      default: '300',
    },
    showTextInput: {
      description: 'Show text input alongside color picker',
      type: 'boolean',
      default: 'true',
    },
    description: {
      description: 'Description for the admin UI',
      type: 'string',
      default: '-',
    },
    overrides: {
      description: 'Function to override fields at a granular level',
      type: '(field: TextField) => TextField',
      default: '-',
    },
  }}
/>

## Features

- **Color Presets** - Provide a list of preset colors for quick selection
- **Debounced Input** - Configurable debounce delay for smooth typing experience
- **Hex Validation** - Built-in validation for hex color format with visual feedback
- **Native Color Input** - Uses native HTML color input for consistent UX across browsers
